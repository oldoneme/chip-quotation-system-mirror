# 代码审查检查清单

**PR标题**: [Pull Request 标题]
**作者**: [作者姓名]
**审查者**: [审查者姓名]
**日期**: [YYYY-MM-DD]
**相关Issue**: #[issue编号]

## 1. 基础检查 🔍

### 1.1 PR 信息
- [ ] PR 标题清晰描述了改动内容
- [ ] PR 描述包含改动的背景和目的
- [ ] 关联了相关的 Issue 或需求文档
- [ ] 标记了正确的标签（feat/fix/refactor等）
- [ ] 指定了合适的审查者

### 1.2 提交规范
- [ ] Commit 信息遵循约定格式
- [ ] 每个 Commit 都是原子性的
- [ ] 没有无关的文件改动
- [ ] 没有调试代码或注释掉的代码
- [ ] 没有 console.log 或 print 语句

### 1.3 分支管理
- [ ] 从正确的基础分支创建
- [ ] 分支名称符合命名规范
- [ ] 已解决所有合并冲突
- [ ] 目标分支是正确的

## 2. 功能验证 ✅

### 2.1 需求符合性
- [ ] 实现满足需求文档的要求
- [ ] 所有验收标准都已满足
- [ ] 边界条件已正确处理
- [ ] 错误场景已正确处理

### 2.2 业务逻辑
- [ ] 业务规则正确实现
- [ ] 数据验证逻辑完整
- [ ] 状态转换正确
- [ ] 计算逻辑准确

### 2.3 用户体验
- [ ] UI 符合设计稿（如适用）
- [ ] 交互流程流畅
- [ ] 错误提示友好明确
- [ ] 加载状态处理恰当
- [ ] 响应式设计正常（如适用）

## 3. 代码质量 📝

### 3.1 可读性
- [ ] 代码自解释，逻辑清晰
- [ ] 变量/函数命名准确表达意图
- [ ] 复杂逻辑有适当注释
- [ ] 没有过长的函数（< 50行）
- [ ] 没有过深的嵌套（< 4层）

### 3.2 可维护性
- [ ] 遵循 DRY 原则（无重复代码）
- [ ] 遵循 SOLID 原则
- [ ] 模块职责单一清晰
- [ ] 依赖关系合理
- [ ] 便于扩展和修改

### 3.3 代码风格
- [ ] 符合项目代码规范
- [ ] 格式化一致（缩进、空格等）
- [ ] import/require 语句有序
- [ ] 文件组织结构合理

### 3.4 最佳实践
- [ ] 使用了合适的设计模式
- [ ] 避免了常见的反模式
- [ ] 合理使用了语言特性
- [ ] 没有过度设计

## 4. 测试覆盖 🧪

### 4.1 测试完整性
- [ ] 有对应的单元测试
- [ ] 测试覆盖了主要路径
- [ ] 测试覆盖了边界条件
- [ ] 测试覆盖了错误场景
- [ ] 测试命名清晰描述测试内容

### 4.2 测试质量
- [ ] 测试独立可重复运行
- [ ] 测试没有外部依赖
- [ ] 测试执行速度合理
- [ ] 测试断言准确有效
- [ ] Mock/Stub 使用恰当

### 4.3 测试结果
- [ ] 所有测试通过
- [ ] 代码覆盖率达标（>= 80%）
- [ ] 没有跳过的测试
- [ ] CI/CD 检查全部通过

## 5. 性能考虑 ⚡

### 5.1 算法效率
- [ ] 时间复杂度合理
- [ ] 空间复杂度合理
- [ ] 没有不必要的循环
- [ ] 使用了合适的数据结构

### 5.2 资源使用
- [ ] 没有内存泄漏风险
- [ ] 资源正确释放（文件、连接等）
- [ ] 缓存使用合理
- [ ] 批处理优化（如适用）

### 5.3 数据库优化
- [ ] 查询已优化（使用索引）
- [ ] 避免 N+1 查询问题
- [ ] 使用了合适的分页
- [ ] 事务范围合理

### 5.4 前端性能
- [ ] 组件渲染优化
- [ ] 避免不必要的重渲染
- [ ] 图片/资源优化
- [ ] 懒加载实现（如适用）

## 6. 安全检查 🔒

### 6.1 输入验证
- [ ] 所有用户输入都经过验证
- [ ] 参数类型和范围检查
- [ ] 防止 SQL 注入
- [ ] 防止 XSS 攻击
- [ ] 防止 CSRF 攻击

### 6.2 认证授权
- [ ] 权限检查正确实现
- [ ] 敏感操作需要认证
- [ ] Token/Session 处理安全
- [ ] 角色权限划分合理

### 6.3 数据安全
- [ ] 敏感数据已加密
- [ ] 密码使用安全哈希
- [ ] 没有硬编码的密钥
- [ ] 日志不包含敏感信息

### 6.4 依赖安全
- [ ] 第三方库版本安全
- [ ] 没有已知的漏洞
- [ ] 依赖来源可信

## 7. 文档更新 📚

### 7.1 代码文档
- [ ] 复杂函数有 JSDoc/注释
- [ ] API 接口文档已更新
- [ ] 类型定义完整准确
- [ ] README 已更新（如需要）

### 7.2 用户文档
- [ ] 用户指南已更新
- [ ] 配置说明已更新
- [ ] FAQ 已更新（如需要）
- [ ] 更新日志已添加

### 7.3 技术文档
- [ ] 架构图已更新（如需要）
- [ ] 数据库文档已更新
- [ ] API 文档已更新
- [ ] 部署文档已更新

## 8. 兼容性 🔄

### 8.1 向后兼容
- [ ] API 保持向后兼容
- [ ] 数据格式兼容
- [ ] 配置兼容
- [ ] 有迁移方案（如需要）

### 8.2 浏览器兼容
- [ ] 主流浏览器测试通过
- [ ] 移动端适配正常
- [ ] Polyfill 正确使用
- [ ] 优雅降级处理

### 8.3 环境兼容
- [ ] 开发环境正常
- [ ] 测试环境正常
- [ ] 生产环境配置正确
- [ ] 环境变量文档完整

## 9. 部署准备 🚀

### 9.1 配置管理
- [ ] 环境变量已配置
- [ ] 配置文件已更新
- [ ] Feature Flag 设置（如适用）
- [ ] 监控告警已配置

### 9.2 数据库变更
- [ ] Migration 脚本准备
- [ ] Rollback 脚本准备
- [ ] 数据备份计划
- [ ] 索引优化完成

### 9.3 发布计划
- [ ] 发布步骤文档
- [ ] 回滚方案准备
- [ ] 灰度发布策略（如适用）
- [ ] 相关方已通知

## 10. 审查意见 💭

### 10.1 优秀之处 👍
- [列出代码中做得好的地方]
- [值得学习和推广的实践]

### 10.2 必须修改 🔴
- [ ] [严重问题1 - 必须修复]
- [ ] [严重问题2 - 必须修复]

### 10.3 建议改进 🟡
- [ ] [一般问题1 - 建议修改]
- [ ] [一般问题2 - 建议修改]

### 10.4 可以优化 🔵
- [ ] [优化建议1 - 可选]
- [ ] [优化建议2 - 可选]

## 审查结果

**总体评价**:
- [ ] ✅ 批准合并
- [ ] 🔄 需要修改后重新审查
- [ ] ❌ 拒绝（需要重大重构）

**审查者签名**: _______________
**审查完成时间**: [YYYY-MM-DD HH:MM]

## 附加说明
[任何额外的评论或建议]

---

### 使用说明
1. 审查者应该根据 PR 的类型和规模，选择性地使用相关的检查项
2. 不是所有检查项都适用于每个 PR
3. 对于小的 bug 修复，可以简化流程
4. 对于重大功能，应该更加严格地执行所有相关检查
5. 审查意见应该具体、可操作，并提供改进建议

### 审查原则
- 🎯 关注代码的正确性和可维护性
- 💬 提供建设性的反馈
- 📚 分享知识和最佳实践
- 🤝 促进团队协作和成长
- ⚡ 及时完成审查，不阻塞开发流程